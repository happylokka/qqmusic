{"version":3,"sources":["webpack:///./src/components/recommend/recommend.vue?e834","webpack:///./src/components/recommend/recommend.vue?2b21","webpack:///./src/base/slider/slider.vue?4b57","webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?c9fc","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?9d8a","webpack:///./src/components/recommend/recommend.vue","webpack:///./src/base/slider/slider.vue?ebdd"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_vue_vue_type_style_index_0_id_5e2eb94d_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_vue_vue_type_style_index_0_id_5e2eb94d_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","data","discList","recommends","_l","item","href","linkUrl","src","picUrl","on","load","loadImage","_e","_v","click","$event","selectItem","directives","name","rawName","value","expression","width","height","domProps","innerHTML","_s","creator","dissname","length","staticRenderFns","slidervue_type_template_id_59f0bd01_scoped_true_render","_t","index","class","active","currentPageIndex","slidervue_type_template_id_59f0bd01_scoped_true_staticRenderFns","slidervue_type_script_lang_js_","props","loop","type","Boolean","default","autoPlay","threshold","Number","speed","interval","dots","mounted","_this","setTimeout","_setSliderWidth","_initDots","_initSlider","_play","window","addEventListener","slider","refresh","destroyed","clearTimeout","timer","methods","isResize","console","log","children","$refs","sliderGroup","sliderWidth","clientWidth","i","child","Object","dom","style","_this2","bscroll_esm","scrollX","scrollY","momentum","snap","getCurrentPage","pageX","Array","_this3","next","slider_slidervue_type_script_lang_js_","component","componentNormalizer","options","__file","recommendvue_type_script_lang_js_","mixins","mixin","created","_getRecommend","_getDiscList","objectSpread","handlePlaylist","playlist","bottom","recommend","scroll","checkloaded","$router","push","path","concat","dissid","setDisc","then","res","code","config","list","vuex_esm","components","Slider","Loading","loading","Scroll","scroll_scroll","recommend_recommendvue_type_script_lang_js_","recommend_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_slider_vue_vue_type_style_index_0_id_59f0bd01_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_slider_vue_vue_type_style_index_0_id_59f0bd01_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-1f95ab3f.66dd230e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&id=5e2eb94d&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&id=5e2eb94d&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{ref:\"sliderWrapper\",staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item){return _c('div',[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{staticClass:\"needsclick\",attrs:{\"src\":item.picUrl},on:{\"load\":_vm.loadImage}})])])}),0)],1):_vm._e(),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_c('ul',_vm._l((_vm.discList),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{staticClass:\"dot\",class:{active: _vm.currentPageIndex === index }})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"slider\" ref=\"slider\">\r\n    <div class=\"slider-group\" ref=\"sliderGroup\">\r\n      <slot>\r\n      </slot>\r\n    </div>\r\n    <div class=\"dots\">\r\n      <span class=\"dot\" :class=\"{active: currentPageIndex === index }\" v-for=\"(item, index) in dots\"></span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {addClass} from 'common/js/dom'\r\n  import BScroll from 'better-scroll'\r\n\r\n  export default {\r\n    name: 'slider',\r\n    props: {\r\n      loop: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      autoPlay: {\r\n        type: Boolean,\r\n        default: true\r\n      },      \r\n      threshold: {\r\n        type: Number,\r\n        default: 0.3\r\n      },\r\n      speed: {\r\n        type: Number,\r\n        default: 400\r\n      },\r\n      interval: {\r\n        type: Number,\r\n        default: 3000\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        dots: [],\r\n        currentPageIndex: 0\r\n      }\r\n    },\r\n    mounted() {\r\n      setTimeout(() => {\r\n        this._setSliderWidth()\r\n        this._initDots()\r\n        this._initSlider()\r\n\r\n        if (this.autoPlay) {\r\n          this._play()\r\n        }\r\n      }, 20)\r\n\r\n      window.addEventListener('resize', () => {\r\n        if (!this.slider) {\r\n          return\r\n        }\r\n        this._setSliderWidth(true)\r\n        this.slider.refresh()\r\n      })\r\n    },\r\n    destroyed() {\r\n      clearTimeout(this.timer)\r\n    },\r\n    methods: {\r\n      _setSliderWidth(isResize) {\r\n        console.log(1)\r\n        this.children = this.$refs.sliderGroup.children\r\n\r\n        let width = 0\r\n        let sliderWidth = this.$refs.slider.clientWidth\r\n        for (let i = 0; i < this.children.length; i++) {\r\n          let child = this.children[i]\r\n          addClass(child, 'slider-item')\r\n\r\n          // console.log(child.className)\r\n\r\n          child.style.width = sliderWidth + 'px'\r\n          width += sliderWidth\r\n        }\r\n        if (this.loop && !isResize) {\r\n          width += 2 * sliderWidth\r\n        }\r\n        this.$refs.sliderGroup.style.width = width + 'px'\r\n      },\r\n      _initSlider() {\r\n        this.slider = new BScroll(this.$refs.slider, {\r\n          scrollX: true,\r\n          scrollY: false,\r\n          momentum: false,\r\n          snap:{\r\n            loop: this.loop,\r\n            threshold: this.threshold,\r\n            speed: this.speed\r\n          }\r\n        })\r\n\r\n        this.slider.on('scrollEnd', () => {\r\n          this.currentPageIndex = this.slider.getCurrentPage().pageX\r\n          \r\n\r\n          if (this.autoPlay) {\r\n            clearTimeout(this.timer)\r\n            this._play()\r\n          }\r\n        })\r\n      },\r\n      _initDots() {\r\n        this.dots = new Array(this.children.length)\r\n      },\r\n      _play() {\r\n        this.timer = setTimeout(() => {\r\n          this.slider.next();\r\n        }, this.interval)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"~common/stylus/variable\"\r\n\r\n  .slider\r\n    min-height: 1px\r\n    .slider-group\r\n      position: relative\r\n      overflow: hidden\r\n      white-space: nowrap\r\n      .slider-item\r\n        float: left\r\n        box-sizing: border-box\r\n        overflow: hidden\r\n        text-align: center\r\n        a\r\n          display: block\r\n          width: 100%\r\n          overflow: hidden\r\n          text-decoration: none\r\n        img\r\n          display: block\r\n          width: 100%\r\n    .dots\r\n      position: absolute\r\n      right: 0\r\n      left: 0\r\n      bottom: 12px\r\n      text-align: center\r\n      font-size: 0\r\n      .dot\r\n        display: inline-block\r\n        margin: 0 4px\r\n        width: 8px\r\n        height: 8px\r\n        border-radius: 50%\r\n        background: $color-text-l\r\n        &.active\r\n          width: 20px\r\n          border-radius: 5px\r\n          background: $color-text-ll\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./slider.vue?vue&type=template&id=59f0bd01&scoped=true&\"\nimport script from \"./slider.vue?vue&type=script&lang=js&\"\nexport * from \"./slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./slider.vue?vue&type=style&index=0&id=59f0bd01&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59f0bd01\",\n  null\n  \n)\n\ncomponent.options.__file = \"slider.vue\"\nexport default component.exports","<template>\r\n  <div class=\"recommend\" ref=\"recommend\">\r\n    <scroll ref=\"scroll\" class=\"recommend-content\" :data=\"discList\">\r\n      <div>\r\n        <div v-if=\"recommends.length\" class=\"slider-wrapper\" ref=\"sliderWrapper\">\r\n          <slider>\r\n            <div v-for=\"item in recommends\">\r\n              <a :href=\"item.linkUrl\">\r\n                <img class=\"needsclick\" @load=\"loadImage\" :src=\"item.picUrl\">\r\n              </a>\r\n            </div>\r\n          </slider>\r\n        </div>\r\n        <div class=\"recommend-list\">\r\n          <h1 class=\"list-title\">热门歌单推荐</h1>\r\n          <ul>\r\n            <li @click=\"selectItem(item)\" v-for=\"item in discList\" class=\"item\">\r\n              <div class=\"icon\">\r\n                <img width=\"60\" height=\"60\" v-lazy=\"item.imgurl\">\r\n              </div>\r\n              <div class=\"text\">\r\n                <h2 class=\"name\" v-html=\"item.creator.name\"></h2>\r\n                <p class=\"desc\" v-html=\"item.dissname\"></p>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"loading-container\" v-show=\"!discList.length\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import Slider from 'base/slider/slider'\r\n  import Loading from 'base/loading/loading'\r\n  import Scroll from 'base/scroll/scroll'\r\n  import {getRecommend, getDiscList} from 'api/recommend'\r\n  import {playlistMixin} from 'common/js/mixin'\r\n  import {ERR_OK} from 'api/config'\r\n  import {mapMutations} from 'vuex'\r\n\r\n  export default {\r\n    mixins: [playlistMixin],\r\n    data() {\r\n      return {\r\n        recommends: [],\r\n        discList: []\r\n      }\r\n    },\r\n    created() {\r\n      this._getRecommend()\r\n\r\n      this._getDiscList()\r\n    },\r\n    methods: {\r\n      handlePlaylist(playlist) {\r\n        const bottom = playlist.length > 0 ? '60px' : ''\r\n\r\n        this.$refs.recommend.style.bottom = bottom\r\n        this.$refs.scroll.refresh()\r\n      },\r\n      loadImage() {\r\n        if (!this.checkloaded) {\r\n          this.checkloaded = true\r\n          this.$refs.scroll.refresh()\r\n        }\r\n      },\r\n      selectItem(item) {\r\n        this.$router.push({\r\n          path: `/recommend/${item.dissid}`\r\n        })\r\n        this.setDisc(item)\r\n      },\r\n      _getRecommend() {\r\n        getRecommend().then((res) => {\r\n          if (res.code === ERR_OK) {\r\n            this.recommends = res.data.slider\r\n          }\r\n        })\r\n      },\r\n      _getDiscList() {\r\n        getDiscList().then((res) => {\r\n          if (res.code === ERR_OK) {\r\n            this.discList = res.data.list\r\n          }\r\n        })\r\n      },\r\n      ...mapMutations({\r\n        setDisc: 'SET_DISC'\r\n      })\r\n    },\r\n    components: {\r\n      Slider,\r\n      Loading,\r\n      Scroll\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"~common/stylus/variable\"\r\n\r\n  .recommend\r\n    position: fixed\r\n    width: 100%\r\n    top: 88px\r\n    bottom: 0\r\n    .recommend-content\r\n      height: 100%\r\n      overflow: hidden\r\n      .slider-wrapper\r\n        position: relative\r\n        width: 100%\r\n        overflow: hidden\r\n      .recommend-list\r\n        .list-title\r\n          height: 65px\r\n          line-height: 65px\r\n          text-align: center\r\n          font-size: $font-size-medium\r\n          color: $color-theme\r\n        .item\r\n          display: flex\r\n          box-sizing: border-box\r\n          align-items: center\r\n          padding: 0 20px 20px 20px\r\n          .icon\r\n            flex: 0 0 60px\r\n            width: 60px\r\n            padding-right: 20px\r\n          .text\r\n            display: flex\r\n            flex-direction: column\r\n            justify-content: center\r\n            flex: 1\r\n            line-height: 20px\r\n            overflow: hidden\r\n            font-size: $font-size-medium\r\n            .name\r\n              margin-bottom: 10px\r\n              color: $color-text\r\n            .desc\r\n              color: $color-text-d\r\n      .loading-container\r\n        position: absolute\r\n        width: 100%\r\n        top: 50%\r\n        transform: translateY(-50%)\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recommend.vue?vue&type=template&id=5e2eb94d&scoped=true&\"\nimport script from \"./recommend.vue?vue&type=script&lang=js&\"\nexport * from \"./recommend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recommend.vue?vue&type=style&index=0&id=5e2eb94d&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e2eb94d\",\n  null\n  \n)\n\ncomponent.options.__file = \"recommend.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=59f0bd01&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=59f0bd01&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}